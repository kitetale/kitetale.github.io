(self.webpackChunkashley_kim=self.webpackChunkashley_kim||[]).push([[386],{5531:function(e,t,n){"use strict";n.r(t);var r=n(7294),i=n(1082),m=n(1606),o=n(6028),s=n(5414),a=n(2872);t.default=function(){return(0,r.useEffect)((function(){setTimeout((function(){n(4022)}),10)}),[]),r.createElement("div",null,r.createElement(s.q,null,r.createElement("link",{rel:"icon",type:"image/png",href:a.Z}),r.createElement("title",null,"Ashley Kim | Cloth Simulation"),r.createElement("script",{type:"text/javascript",charset:"utf-8",src:(0,i.dq)("/clothsim.js")})),r.createElement("div",{className:m.OA},r.createElement(o.Z,null),r.createElement("div",{className:m.kQ},r.createElement("div",{className:m.ZP},r.createElement("h1",null,"Cloth Simulation"),r.createElement("p",null,"by Ashley Kim (ayk2@andrew.cmu.edu)")),r.createElement("div",{id:"updateButton",className:m.sg}),r.createElement("div",{id:"parameters",className:m.sg}),r.createElement("div",{id:"displayOptions",className:m.sg}),r.createElement("div",{id:"canvas"}),r.createElement("div",{id:"resetButton"}),r.createElement("div",{className:m.be},"Checkout more details of this project on  ",r.createElement("a",{href:"https://github.com/kitetale/Spring-Mass-Cloth-sim"}," ","GitHub"),"."))),r.createElement("footer",{className:m.Mv},"(ง˙∇˙)ว © 2023 Ashley Kim (ว˙∇˙)ง"),r.createElement("footer",{className:m.dI},"Built with Gatsby ","&"," React! Last updated on March 10, 2023."))}},4022:function(){var e=10;function t(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2]]}function n(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]}function r(e,t){return 0==t?[0,0,0]:[0==e[0]?0:e[0]*t,0==e[1]?0:e[1]*t,0==e[2]?0:e[2]*t]}var i=function(){"use strict";function t(e,t){this.m_ConstructPos=e,this.m_Position=e,this.m_Velocity=[0,0,0],this.m_ForceAccumulator=[0,0,0],this.m_Mass=1,this.ctx=t}var n=t.prototype;return n.reset=function(){this.m_Position=this.m_ConstructPos,this.m_Velocity=[0,0,0],this.m_ForceAccumulator=[0,0,0]},n.draw=function(){var t=this.m_Position[0]/this.m_Position[2],n=this.m_Position[1]/this.m_Position[2];this.ctx.beginPath(),this.ctx.moveTo(t+e,n),this.ctx.arc(t,n,e,0,2*Math.PI,!1),this.ctx.fill()},n.clearForce=function(){this.m_ForceAccumulator=[0,0,0]},t}(),m=function(){"use strict";function e(e,t,n,r,i,m){this.m_p1=e,this.m_p2=t,this.m_dist=n,this.m_kd=r,this.m_ks=i,this.ctx=m}var i=e.prototype;return i.draw=function(){this.ctx.beginPath(),this.ctx.moveTo(this.m_p1.m_Position[0]/this.m_p1.m_Position[2],this.m_p1.m_Position[1]/this.m_p1.m_Position[2]),this.ctx.lineTo(this.m_p2.m_Position[0]/this.m_p2.m_Position[2],this.m_p2.m_Position[1]/this.m_p2.m_Position[2]),this.ctx.stroke()},i.apply_force=function(){var e,i=n(this.m_p1.m_Position,this.m_p2.m_Position),m=n(this.m_p1.m_Velocity,this.m_p2.m_Velocity),o=(e=i,Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])),s=function(e,t){return[e[0]/t,e[1]/t,e[2]/t]}(i,o),a=this.m_ks*(o-this.m_dist),l=this.m_kd*function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}(m,i)/o,c=r(s,a+l==0?0:-(a+l));this.m_p1.m_ForceAccumulator=t(this.m_p1.m_ForceAccumulator,c),console.assert(!1===isNaN(c[0])||!1===isNaN(c[1])||!1===isNaN(c[2]));var d=r(c,-1);this.m_p2.m_ForceAccumulator=t(this.m_p2.m_ForceAccumulator,d)},e}(),o=[],s=[],a=!0,l=function(){"use strict";function e(e,t,n,r,a,l,c,d,u,p){this.dt=u,this.rowN=e,this.colN=t,this.ctx=p;var h=550/(t-1),y=380/(e-1),v=Math.min(h,y),f=Math.sqrt(h*h+y*y),_=Math.min(h+h,y+y);this.ks_stretch=n,this.kd_stretch=r,this.ks_sheer=a,this.kd_sheer=l,this.ks_bend=c,this.kd_bend=d;for(var g=0;g<e;g++)for(var E=0;E<t;E++)o.push(new i([50+E*h,50+g*y,1],p));for(var k=0;k<e;k++)for(var b=0;b<t;b++)b<t-1&&s.push(new m(o[k*t+b],o[k*t+(b+1)],v,r,n,p)),k<e-1&&s.push(new m(o[k*t+b],o[(k+1)*t+b],v,r,n,p));for(var w=0;w<e-1;w++)for(var P=0;P<t-1;P++)s.push(new m(o[w*t+P],o[(w+1)*t+(P+1)],f,l,a,p)),s.push(new m(o[(w+1)*t+P],o[w*t+(P+1)],f,l,a,p));for(var B=0;B<e;B++)for(var C=0;C<t;C++)C<t-2&&s.push(new m(o[B*t+C],o[B*t+(C+2)],_,d,c,p)),B<e-2&&s.push(new m(o[B*t+C],o[(B+2)*t+C],_,d,c,p))}var n=e.prototype;return n.destroy=function(){o=[],s=[]},n.reset=function(){for(var e=o.length,t=0;t<e;t++)o[t].reset()},n.draw=function(){var e=o.length;if(a)for(var t=0;t<e;t++)o[t].draw();e=s.length;for(var n=0;n<e;n++){var r=this.rowN*(this.colN-1)+this.colN*(this.rowN-1);n<r?d.strokeStyle="Crimson":n>=r&&n<r+(this.rowN-1)*(this.colN-1)*2?d.strokeStyle="ForestGreen":d.strokeStyle="SteelBlue",s[n].draw()}},n.euler_step=function(){for(var e=o.length,n=0;n<e;n++)o[n].m_Position=t(o[n].m_Position,r(o[n].m_Velocity,this.dt)),o[n].m_Velocity=t(r(o[n].m_Velocity,.98),r(o[n].m_ForceAccumulator,this.dt/o[n].m_Mass))},n.simulation_step=function(){for(var e=o.length,t=0;t<e;++t)o[t].clearForce();for(var n=s.length,r=0;r<n;++r)s[r].apply_force();this.euler_step()},e}(),c=document.createElement("canvas");c.width="1000",c.height="800",c.style.display="flex",c.style.margin="auto";var d=c.getContext("2d");c.style.border="1px solid black",document.getElementById("canvas").appendChild(c);var u=new l(5,5,.2,.2,.2,.2,.2,.2,.1,d);window.requestAnimationFrame((function e(){d.clearRect(0,0,c.width,c.height),u.simulation_step(),u.draw(),window.requestAnimationFrame(e)}));var p=document.createElement("button");p.innerHTML="Restart",p.onclick=function(){u.reset()},p.style.margin="3rem auto",p.style.display="flex",p.style.padding="0.5rem 1rem",p.style.border="2px solid #ff8a00",p.style.borderRadius="10px",p.style.backgroundColor="white",p.addEventListener("mouseenter",(function(e){p.style.cursor="pointer",p.style.backgroundColor="#ff8a00",p.style.color="white"})),p.addEventListener("mouseleave",(function(e){p.style.backgroundColor="white",p.style.color="black",p.style.cursor="default"})),document.getElementById("resetButton").appendChild(p);var h=document.createElement("input");h.type="number",h.value="5",h.id="rowInputNum",h.placeholder="row";var y=document.createElement("input");y.type="number",y.value="5",y.id="colInputNum",y.placeholder="column",h.style.display="flex",y.style.display="flex",h.style.margin="2rem 0.5rem 0.5rem",y.style.margin="2rem 0.5rem 0.5rem";var v=document.createElement("h3");v.style.margin="2rem 0.5rem 0.5rem",document.getElementById("updateButton").appendChild(v),v.innerHTML="Cloth Dimension: ",document.getElementById("updateButton").appendChild(h),document.getElementById("updateButton").appendChild(y);var f=document.createElement("button");f.innerHTML="Update";var _=5,g=5,E=.2,k=.2,b=.2,w=.2,P=.2,B=.2,C=.1;f.onclick=function(){u.destroy(),_=document.getElementById("rowInputNum").value,g=document.getElementById("colInputNum").value,E=document.getElementById("ks_stretch").value,k=document.getElementById("kd_stretch").value,b=document.getElementById("ks_sheer").value,w=document.getElementById("kd_sheer").value,P=document.getElementById("ks_bend").value,B=document.getElementById("kd_bend").value,C=document.getElementById("dt").value,a=document.getElementById("display_pts").checked,u=new l(_,g,E,k,b,w,P,B,C,d)},f.style.margin="2rem 0.5rem 0.5rem",f.style.display="flex",f.style.padding="0.5rem 1rem",f.style.border="2px solid #ff8a00",f.style.borderRadius="10px",f.style.backgroundColor="white",f.addEventListener("mouseenter",(function(e){f.style.cursor="pointer",f.style.backgroundColor="#ff8a00",f.style.color="white"})),f.addEventListener("mouseleave",(function(e){f.style.backgroundColor="white",f.style.color="black",f.style.cursor="default"})),document.getElementById("updateButton").appendChild(f);var I=document.createElement("input");I.type="number",I.value="0.2",I.id="ks_stretch",I.placeholder="ks",I.size="5",I.style.margin="1rem 0.5rem 2rem",I.style.width="60px";var x=document.createElement("input");x.type="number",x.value="0.2",x.id="kd_stretch",x.placeholder="kd",x.size="5",x.style.margin="1rem 0.5rem 2rem",x.style.width="60px";var N=document.createElement("h3");N.style.margin="1rem 0.5rem 2rem",document.getElementById("parameters").appendChild(N),N.innerHTML="Stretch: ",document.getElementById("parameters").appendChild(I),document.getElementById("parameters").appendChild(x);var M=document.createElement("input");M.type="number",M.value="0.2",M.id="ks_sheer",M.placeholder="ks",M.size="5",M.style.margin="1rem 0.5rem 2rem",M.style.width="60px";var L=document.createElement("input");L.type="number",L.value="0.2",L.id="kd_sheer",L.placeholder="kd",L.size="5",L.style.margin="1rem 0.5rem 2rem",L.style.width="60px";var A=document.createElement("h3");A.style.margin="1rem 0.5rem 2rem 2.5rem",document.getElementById("parameters").appendChild(A),A.innerHTML="Sheer: ",document.getElementById("parameters").appendChild(M),document.getElementById("parameters").appendChild(L);var R=document.createElement("input");R.type="number",R.value="0.2",R.id="ks_bend",R.placeholder="ks",R.size="5",R.style.margin="1rem 0.5rem 2rem",R.style.width="60px";var F=document.createElement("input");F.type="number",F.value="0.2",F.id="kd_bend",F.placeholder="kd",F.size="5",F.style.margin="1rem 0.5rem 2rem",F.style.width="60px";var T=document.createElement("h3");T.style.margin="1rem 0.5rem 2rem 2.5rem",document.getElementById("parameters").appendChild(T),T.innerHTML="Bend: ",document.getElementById("parameters").appendChild(R),document.getElementById("parameters").appendChild(F);var S=document.createElement("input");S.type="number",S.value="0.1",S.id="dt",S.placeholder="dt",S.size="5",S.style.margin="1rem 0.5rem 2rem",S.style.width="60px";var H=document.createElement("h3");H.style.margin="1rem 0.5rem 2rem 2.5rem",document.getElementById("parameters").appendChild(H),H.innerHTML="dt: ",document.getElementById("parameters").appendChild(S);var V=document.createElement("h3");V.style.margin="0rem 0.5rem 2rem 0.5rem",document.getElementById("displayOptions").appendChild(V),V.innerHTML="Particle Mass: ";var z=document.createElement("input");z.type="number",z.value="1",z.id="mass",z.placeholder="dt",z.size="5",z.style.margin="0rem 0rem 2rem 0.5rem",z.style.width="60px",document.getElementById("displayOptions").appendChild(z);var q=document.createElement("h3");q.style.margin="0rem 0.5rem 2rem 2.5rem",document.getElementById("displayOptions").appendChild(q),q.innerHTML="Display Points: ";var O=document.createElement("input");O.type="checkbox",O.checked="true",O.id="display_pts",O.style.margin="0rem 0.5rem 2rem",document.getElementById("displayOptions").appendChild(O);var Z=function(e){var t=c.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},j=!1,D=-1;function G(e){var t=Z(e);if(j&&D>=0){var n=o[D];n.m_ForceAccumulator=[0,0,0],n.m_Velocity=[0,0,0];var r=n.m_Position[2];n.m_Position=[t.x*r,t.y*r,r]}}c.addEventListener("mousedown",(function(t){for(var n,r,i,m,s,a=o.length,l=0;l<a;l++){var d=o[l],u=Z(t);if(n=u.x,r=u.y,m=void 0,s=void 0,m=(i=d).m_Position[0]/i.m_Position[2],s=i.m_Position[1]/i.m_Position[2],n>m-e&&n<m+e&&r>s-e&&r<s+e){d.m_ForceAccumulator=[0,0,0],d.m_Velocity=[0,0,0];var p=d.m_Position[2];d.m_Position=[u.x*p,u.y*p,p],j=!0,D=l,c.addEventListener("mousemove",G)}}})),c.addEventListener("mouseup",(function(){j=!1,D=-1,c.removeEventListener("mousemove",G)}))},1606:function(e,t,n){"use strict";n.d(t,{Mv:function(){return l},OA:function(){return c},S2:function(){return d},TN:function(){return u},ZP:function(){return m},be:function(){return r},dI:function(){return a},kQ:function(){return o},q4:function(){return s},sg:function(){return i}});var r="ResumePage-module--center--9b0dd",i="ResumePage-module--centerButton--df016",m="ResumePage-module--centerTitle--bbb03",o="ResumePage-module--content--dfefc",s="ResumePage-module--content2--e4fd6",a="ResumePage-module--footDescrip--5a6f4",l="ResumePage-module--footer--ef519",c="ResumePage-module--overall--a999b",d="ResumePage-module--resumeStyle--64bc2",u="ResumePage-module--title--acc5f"}}]);
//# sourceMappingURL=component---src-pages-cloth-js-6bb1b7d64da635fb0d10.js.map