{"version":3,"file":"component---src-pages-cloth-js-1d5147d5c65d5694677d.js","mappings":"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","sources":["webpack://ashley-kim/./src/pages/cloth.js","webpack://ashley-kim/./static/clothsim.js","webpack://ashley-kim/./src/pages/ResumePage.module.css"],"sourcesContent":["import React, {useEffect} from \"react\";\nimport { withPrefix } from \"gatsby\";\nimport {\n  overall,\n  content,\n  centerTitle,\n  center,\n  centerButton,\n  footer,\n  footDescrip,\n} from \"./ResumePage.module.css\";\nimport AppHeader from \"../component/AppHeader/AppHeader\";\nimport { Helmet } from \"react-helmet\";\nimport favicon from \"../images/favicon.png\";\n\nconst ClothSimulation = () => {\n  useEffect(() => {\n    setTimeout(() => {\n       const myScript = require(\"../../static/clothsim\");\n     }, 10);\n    }, []);\n  \n  return (\n    <div>\n      <Helmet>\n        <link rel=\"icon\" type=\"image/png\" href={favicon} />\n        <title>Ashley Kim | Cloth Simulation</title>\n        {/* <script\n          type=\"text/javascript\"\n          charset=\"utf-8\"\n          src={withPrefix(\"/clothsim.js\")}\n        /> */}\n      </Helmet>\n      <div className={overall}>\n        <AppHeader />\n        <div className={content}>\n          <div className={centerTitle}>\n            <h1>Cloth Simulation</h1>\n            <p>by Ashley Kim (ayk2@andrew.cmu.edu)</p>\n          </div>\n          <div id=\"updateButton\"></div>\n          <div id=\"canvas\"></div>\n          {/* <canvas\n            id=\"canvas\"\n            width=\"1000px\"\n            height=\"800px\"\n            className={center}\n          ></canvas> */}\n          <div id=\"resetButton\"></div>\n          <div className={center}>\n          Checkout more details of this project on &nbsp; \n            <a href=\"https://github.com/kitetale/Spring-Mass-Cloth-sim\"> GitHub</a>.\n          </div>\n        </div>\n      </div>\n      <footer className={footer}>(ง˙∇˙)ว © 2023 Ashley Kim (ว˙∇˙)ง</footer>\n      <footer className={footDescrip}>\n        Built with Gatsby {\"&\"} React! Last updated on March 10, 2023.\n      </footer>\n    </div>\n  );\n};\n\nexport default ClothSimulation;\n","// make sure we don't use random variable values -- instead say what's undefined\n//'use strict'; \nif (typeof window !== 'undefined' && window.document){\n    let maxWidth = 650;\n    let maxHeight = 480;\n    let padding = 50;\n    let r = 10; // radius of particle circle\n\n    // ------------------------ SOME VEC3 MATH FUNC --------------------------------\n    function vec3plus (a,b){\n        return [a[0]+b[0],a[1]+b[1],a[2]+b[2]];\n    }\n    function vec3minus (a,b){\n        return [a[0]-b[0],a[1]-b[1],a[2]-b[2]];\n    }\n    function vec3length(a){\n        return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);\n    }\n    function vec3mult(a,s){\n        let a0,a1,a2 = 0;\n        if (s==0) return [0,0,0];\n        if (a[0]==0) a0 = 0;\n        else a0 = a[0]*s;\n        if (a[1]==0) a1 = 0;\n        else a1 = a[1]*s;\n        if (a[2]==0) a2 = 0;\n        else a2 = a[2]*s;\n        return [a0,a1,a2];\n    }\n    function vec3div(a,s){\n        return [a[0]/s,a[1]/s,a[2]/s];\n    }\n    function vec3dot(a,b){\n        return (a[0]*b[0]+a[1]*b[1]+a[2]*b[2]);\n    }\n    // --------------------------- PARTICLE -------------------------------\n    class Particle {\n        constructor(ConstructPos,ctx){\n            this.m_ConstructPos = ConstructPos;\n            this.m_Position = ConstructPos;\n            this.m_Velocity = [0.0,0.0,0.0];\n            this.m_ForceAccumulator = [0.0,0.0,0.0];\n            this.m_Mass = 1.0;\n            this.ctx = ctx;\n        }\n\n        reset() {\n            this.m_Position = this.m_ConstructPos;\n            this.m_Velocity = [0.0,0.0,0.0];\n            this.m_ForceAccumulator = [0.0,0.0,0.0];\n        }\n\n        draw() {\n            let x = this.m_Position[0]/this.m_Position[2];\n            let y = this.m_Position[1]/this.m_Position[2];\n            \n            this.ctx.beginPath();\n            this.ctx.moveTo(x + r, y);\n            this.ctx.arc(x, y, r, 0, Math.PI * 2, false);\n            this.ctx.fill();\n        }\n\n        clearForce() {\n            //reset applied force on this particle\n            this.m_ForceAccumulator = [0.0,0.0,0.0];\n        }\n\n    }\n\n\n    // ------------------------- SPRING FORCE -----------------------------\n\n    class SpringForce{\n        constructor(p1,p2,dist,kd,ks,ctx){\n            this.m_p1 = p1;\n            this.m_p2 = p2;\n            this.m_dist = dist;\n            this.m_kd = kd;\n            this.m_ks = ks;\n            this.ctx = ctx;\n        }\n\n        draw(){\n            this.ctx.beginPath();\n            this.ctx.moveTo(this.m_p1.m_Position[0]/this.m_p1.m_Position[2],this.m_p1.m_Position[1]/this.m_p1.m_Position[2]);\n            this.ctx.lineTo(this.m_p2.m_Position[0]/this.m_p2.m_Position[2],this.m_p2.m_Position[1]/this.m_p2.m_Position[2]);\n            this.ctx.stroke();\n        }\n\n        apply_force(){\n            // accumulated force of the first particle\n            let pdiff = vec3minus(this.m_p1.m_Position,this.m_p2.m_Position); //vec3\n            let vdiff = vec3minus(this.m_p1.m_Velocity,this.m_p2.m_Velocity); //vec3\n            let pdiffmag = vec3length(pdiff); //float\n            let pdiffnorm = vec3div(pdiff,pdiffmag); //vec3\n\n            let spring = this.m_ks * (pdiffmag-this.m_dist); //float\n            let damping = this.m_kd * vec3dot(vdiff,pdiff) / pdiffmag; //float\n\n            let fscaler = (spring+damping == 0)? 0 : -(spring+damping); //float\n            let force1 = vec3mult(pdiffnorm,fscaler); //vec3\n\n            // set accumulated force of the first particle\n            this.m_p1.m_ForceAccumulator = vec3plus(this.m_p1.m_ForceAccumulator,force1);\n            console.assert(isNaN(force1[0]) === false || isNaN(force1[1]) === false || isNaN(force1[2]) === false);\n\n            // accumulated force of the first particle\n            let force2 = vec3mult(force1,-1); //vec3\n\n            // set accumulated force of the second particle\n            this.m_p2.m_ForceAccumulator = vec3plus(this.m_p2.m_ForceAccumulator,force2);\n        }\n    }\n\n    // ------------------------------ CLOTH -------------------------------\n\n    let pVector = [];\n    let fVector = [];\n    const damp = 0.98;\n\n    class Cloth{\n        constructor(rowN,colN,ctx){\n            this.dt = 0.1;\n            this.rowN = rowN;\n            this.colN = colN;\n            this.ctx = ctx;\n\n            let xOffset = (maxWidth-padding*2)/(colN-1);\n            let yOffset = (maxHeight-padding*2)/(rowN-1);\n\n            // set rest lengths to starting length\n            let rest_stretch = Math.min(xOffset,yOffset);\n            let rest_sheer = Math.sqrt(xOffset*xOffset+yOffset*yOffset);\n            let rest_bend = Math.min(xOffset+xOffset,yOffset+yOffset);\n\n            let ks_stretch = 0.1;\n            let kd_stretch = 0.1;\n            let ks_sheer = 0.1;\n            let kd_sheer = 0.1;\n            let ks_bend = 0.1;\n            let kd_bend = 0.1;\n\n            // particle construct\n            for (let i=0; i<rowN; i++){\n                for (let j=0; j<colN; j++){\n                    pVector.push(new Particle([padding+j*xOffset,padding+i*yOffset,1.0],ctx))\n                }\n            }\n\n            // spring force construct\n            // stretch strings (red)\n            for (let i=0; i<rowN; i++){\n                for (let j=0; j<colN; j++){\n                    // horizontal\n                    if (j<colN-1){\n                        fVector.push(new SpringForce(pVector[i*colN+j], pVector[i*colN+(j+1)], rest_stretch, kd_stretch, ks_stretch, ctx));\n                    }\n                    // vertical\n                    if (i<rowN-1){\n                        fVector.push(new SpringForce(pVector[i*colN+j], pVector[(i+1)*colN+j], rest_stretch, kd_stretch, ks_stretch, ctx));\n                    }\n                }\n            }\n            \n            // sheer strings (green)\n            for (let i=0; i<rowN-1; i++){\n                for (let j=0; j<colN-1; j++){\n                    // \\ diagonal\n                    fVector.push(new SpringForce(pVector[i*colN+j], pVector[(i+1)*colN+(j+1)], rest_sheer, kd_sheer, ks_sheer, ctx));\n                    // / diagonal\n                    fVector.push(new SpringForce(pVector[(i+1)*colN+j], pVector[i*colN+(j+1)], rest_sheer, kd_sheer, ks_sheer, ctx));\n                }\n            }\n            // bend strings (blue)\n            for (let i=0; i<rowN; i++){\n                for (let j=0; j<colN; j++){\n                    // right jump connection for bending cloth\n                    if (j<colN-2){\n                        fVector.push(new SpringForce(pVector[i*colN+j], pVector[i*colN+(j+2)], rest_bend, kd_bend, ks_bend, ctx));\n                    }\n                    // down jump connection\n                    if (i<rowN-2){\n                        fVector.push(new SpringForce(pVector[i*colN+j], pVector[(i+2)*colN+j], rest_bend, kd_bend, ks_bend, ctx));\n                    }\n                }\n            }\n\n        }\n\n        reset(){\n            let size = pVector.length;\n            for(let ii=0; ii<size; ii++){\n                pVector[ii].reset();\n            }\n        }\n\n        draw(){\n            let size = pVector.length;\n            for(let ii=0; ii<size; ii++){\n                pVector[ii].draw();\n            }\n        \n            size = fVector.length;\n            for(let ii=0; ii<size; ii++){\n                let stretchCount = (this.rowN*(this.colN-1)+this.colN*(this.rowN-1));\n                if (ii<stretchCount){ \n                    ctx.strokeStyle = 'Crimson';\n                } else if (ii>=stretchCount&& ii<stretchCount+(this.rowN-1)*(this.colN-1)*2){ \n                    ctx.strokeStyle = 'ForestGreen';\n                } else {\n                    ctx.strokeStyle = 'SteelBlue';\n                }\n                fVector[ii].draw();\n            }\n        }\n\n        euler_step(){\n            let size = pVector.length;\n        \n            for(let ii=0; ii<size; ii++){\n                pVector[ii].m_Position = vec3plus(pVector[ii].m_Position, vec3mult(pVector[ii].m_Velocity, this.dt));\n                pVector[ii].m_Velocity = vec3plus(vec3mult(pVector[ii].m_Velocity, damp), vec3mult(pVector[ii].m_ForceAccumulator, this.dt/pVector[ii].m_Mass));\n            }\n        }\n\n        simulation_step(){\n            ///first, you need to clear force accumulators for all the particles\n            let size = pVector.length;\n            for (let i=0; i<size; ++i){\n                pVector[i].clearForce();\n            }\n        \n            ///second, apply forces to them\n            let fsize = fVector.length;\n            for (let i=0; i<fsize; ++i){\n                // pVector[i].m_ForceAccumulator = [0,9.81,0];\n                fVector[i].apply_force();\n            }\n        \n            ///if you want to implement hard constraints, the third step is to calculate constraint forces\n            ///for the basic cloth simulation, you can skip this.\n        \n            ///Then, we can move forward\n            ///Change this to others if you want to implement RK2 or RK4 or other integration method\n            this.euler_step();\n        \n            ///Finally, if you want to implement collisions, you could solve them here\n            ///for the basic cloth simulation, you can skip this.\n        }\n    }\n\n\n    let cloth = new Cloth(userRowNum,userColNum,ctx);\n// ----------------------- ADD CONTROL BUTTONS / INPUTS ---------------------\n    let rowInput = document.createElement(\"input\");\n    rowInput.type = \"number\";\n    rowInput.value = \"10\";\n    rowInput.id = \"rowInputNum\";\n    let colInput = document.createElement(\"input\");\n    colInput.type = \"number\";\n    colInput.value = \"10\";\n    colInput.id = \"colInputNum\";\n\n    let btn1 = document.createElement(\"button\");\n    btn1.innerHTML = \"Update\";\n    let userRowNum = document.getElementById(\"rowInputNum\");\n    let userColNum = 10;\n    btn1.onclick = function () {\n        cloth = new Cloth(userRowNum,userColNum,ctx);\n        playSimulation();\n    };\n    btn1.style.margin = \"3rem auto\";\n    btn1.style.display = \"flex\";\n    btn1.style.padding = \"0.5rem 1rem\";\n    btn1.style.border = \"2px solid #ff8a00\";\n    btn1.style.borderRadius = \"10px\";\n    btn1.style.backgroundColor = \"white\";\n\n    btn1.addEventListener(\"mouseenter\", (event) => {\n        btn.style.cursor = \"pointer\";\n        btn.style.backgroundColor = \"#ff8a00\";\n        btn.style.color = \"white\";\n    });\n    btn1.addEventListener(\"mouseleave\", (event) => {\n        btn.style.backgroundColor = \"white\";\n        btn.style.color = \"black\";\n        btn.style.cursor = \"default\";\n    });\n\n   // document.getElementById(\"updateButton\").appendChild(btn1);\n// ----------------------- ADD CANVAS ---------------------------------------\n    let canvas = document.createElement(\"canvas\");\n    canvas.width = \"1000\";\n    canvas.height = \"800\";\n    canvas.style.display = \"flex\";\n    canvas.style.margin = \"auto\";\n    // const canvas = document.getElementById(\"canvas\");\n    const ctx = canvas.getContext(\"2d\");\n    canvas.style.border = \"1px solid black\";\n    document.getElementById(\"canvas\").appendChild(canvas);\n\n    // let p1 = new Particle([100.0,100.0,1.0],ctx);\n    // p1.draw();\n\n    // let p2 = new Particle([200.0,100.0,1.0],ctx);\n    // p2.draw();\n\n    // let s1 = new SpringForce(p1,p2,1,5,5,ctx);\n    // s1.draw();\n\n    function draw() {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        cloth.simulation_step();\n        cloth.draw();\n        window.requestAnimationFrame(draw);\n    }\n    // cloth.draw();\n    window.requestAnimationFrame(draw);\n\n    function playSimulation(){\n        cloth.reset();\n        window.requestAnimationFrame(draw);\n    }\n// ----------------------- RESET BUTTON --------------------------------------\n    let btn = document.createElement(\"button\");\n    btn.innerHTML = \"Restart\";\n    btn.onclick = function () {\n        playSimulation();\n    };\n    btn.style.margin = \"3rem auto\";\n    btn.style.display = \"flex\";\n    btn.style.padding = \"0.5rem 1rem\";\n    btn.style.border = \"2px solid #ff8a00\";\n    btn.style.borderRadius = \"10px\";\n    btn.style.backgroundColor = \"white\";\n\n    btn.addEventListener(\"mouseenter\", (event) => {\n        btn.style.cursor = \"pointer\";\n        btn.style.backgroundColor = \"#ff8a00\";\n        btn.style.color = \"white\";\n    });\n    btn.addEventListener(\"mouseleave\", (event) => {\n        btn.style.backgroundColor = \"white\";\n        btn.style.color = \"black\";\n        btn.style.cursor = \"default\";\n    });\n\n    document.getElementById(\"resetButton\").appendChild(btn);\n\n    // --------------------------- INTERACTION -------------------------------------\n    let getMouseCoords = (e) => {\n        let canvasCoords = canvas.getBoundingClientRect()\n        return {\n            x: e.clientX - canvasCoords.left,\n            y: e.clientY - canvasCoords.top\n        }\n    }\n    let getOffsetCoords = (e, particle) => {\n        let mouseX = e.clientX\n        let mouseY = e.clientY\n        return {\n            x: mouseX - (particle.m_Position[0]/particle.m_Position[2]),\n            y: mouseY - (particle.m_Position[1]/particle.m_Position[2])\n        }\n    }\n    let cursorOnPoint = (mouseX, mouseY, particle) => {\n        let particleX = (particle.m_Position[0]/particle.m_Position[2]);\n        let particleY = (particle.m_Position[1]/particle.m_Position[2]);\n        let xAxis = mouseX>particleX-r && mouseX<particleX+r;\n        let yAxis = mouseY>particleY-r && mouseY<particleY+r;\n\n        return xAxis && yAxis;\n    }\n\n    let dragging = false;\n    let curIndex = -1;\n\n    function mouseMove(e){\n        let mouseCoord = getMouseCoords(e);\n        if (dragging && curIndex>=0){\n            let p = pVector[curIndex];\n            p.m_ForceAccumulator = [0,0,0];\n            p.m_Velocity = [0,0,0];\n            let zPos = p.m_Position[2];\n            // update this particle's position to where mouse is dragging\n            p.m_Position = [mouseCoord.x*zPos,mouseCoord.y*zPos,zPos];\n        }\n    }\n\n    function mouseDown(e){\n        let size = pVector.length;\n        for (let i=0; i<size; i++){\n            let p = pVector[i];\n            let mouseCoord = getMouseCoords(e);\n            if (cursorOnPoint(mouseCoord.x,mouseCoord.y,p)){\n                p.m_ForceAccumulator = [0,0,0];\n                p.m_Velocity = [0,0,0];\n                let zPos = p.m_Position[2];\n                // update this particle's position to where mouse is dragging\n                p.m_Position = [mouseCoord.x*zPos,mouseCoord.y*zPos,zPos];\n                dragging = true;\n                curIndex = i;\n                // canvas.onmousemove = mouseMove;\n                canvas.addEventListener('mousemove',mouseMove);\n\n            }\n        }\n    }\n\n    function mouseUp(){\n        dragging = false;\n        curIndex = -1;\n        // canvas.onmousemove = null;\n        canvas.removeEventListener('mousemove',mouseMove);\n    }\n\n    canvas.addEventListener('mousedown',mouseDown);\n    canvas.addEventListener('mouseup',mouseUp);\n    // canvas.onmousedown = mouseDown;\n    // canvas.onmouseup = mouseUp;\n}","// extracted by mini-css-extract-plugin\nexport var center = \"ResumePage-module--center--9b0dd\";\nexport var centerButton = \"ResumePage-module--centerButton--df016\";\nexport var centerTitle = \"ResumePage-module--centerTitle--bbb03\";\nexport var content = \"ResumePage-module--content--dfefc\";\nexport var content2 = \"ResumePage-module--content2--e4fd6\";\nexport var footDescrip = \"ResumePage-module--footDescrip--5a6f4\";\nexport var footer = \"ResumePage-module--footer--ef519\";\nexport var overall = \"ResumePage-module--overall--a999b\";\nexport var resumeStyle = \"ResumePage-module--resumeStyle--64bc2\";\nexport var title = \"ResumePage-module--title--acc5f\";\nexport var title3 = \"ResumePage-module--title3--2ba8f\";"],"names":["useEffect","setTimeout","require","rel","type","href","favicon","className","overall","content","centerTitle","id","center","footer","footDescrip","window","document","vec3plus","a","b","vec3minus","vec3mult","s","draw","ctx","clearRect","canvas","width","height","cloth","simulation_step","requestAnimationFrame","playSimulation","reset","mouseMove","e","mouseCoord","getMouseCoords","dragging","curIndex","p","pVector","m_ForceAccumulator","m_Velocity","zPos","m_Position","x","y","r","Particle","ConstructPos","this","m_ConstructPos","m_Mass","beginPath","moveTo","arc","Math","PI","fill","clearForce","SpringForce","p1","p2","dist","kd","ks","m_p1","m_p2","m_dist","m_kd","m_ks","lineTo","stroke","apply_force","pdiff","vdiff","pdiffmag","sqrt","pdiffnorm","vec3div","spring","damping","vec3dot","force1","console","assert","isNaN","force2","fVector","Cloth","rowN","colN","dt","xOffset","yOffset","rest_stretch","min","rest_sheer","rest_bend","i","j","push","size","length","ii","stretchCount","strokeStyle","euler_step","fsize","userRowNum","userColNum","rowInput","createElement","value","colInput","btn1","innerHTML","getElementById","onclick","style","margin","display","padding","border","borderRadius","backgroundColor","addEventListener","event","btn","cursor","color","getContext","appendChild","canvasCoords","getBoundingClientRect","clientX","left","clientY","top","cursorOnPoint","mouseX","mouseY","particle","particleX","particleY","removeEventListener","content2","resumeStyle","title"],"sourceRoot":""}