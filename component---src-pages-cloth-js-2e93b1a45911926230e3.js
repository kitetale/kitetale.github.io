(self.webpackChunkashley_kim=self.webpackChunkashley_kim||[]).push([[386],{5531:function(e,t,n){"use strict";n.r(t);var o=n(7294),i=n(1082),r=n(1606),s=n(6028),a=n(5414),u=n(2872);t.default=function(){return(0,o.useEffect)((function(){setTimeout((function(){n(4022)}),10)}),[]),o.createElement("div",null,o.createElement(a.q,null,o.createElement("link",{rel:"icon",type:"image/png",href:u.Z}),o.createElement("title",null,"Ashley Kim | Cloth Simulation"),o.createElement("script",{type:"text/javascript",charset:"utf-8",src:(0,i.dq)("/clothsim.js")})),o.createElement("div",{className:r.OA},o.createElement(s.Z,null),o.createElement("div",{className:r.kQ},o.createElement("div",{className:r.ZP},o.createElement("h1",null,"Cloth Simulation"),o.createElement("p",null,"by Ashley Kim (ayk2@andrew.cmu.edu)")),o.createElement("div",{id:"updateButton",className:r.be}),o.createElement("div",{id:"canvas"}),o.createElement("div",{id:"resetButton"}),o.createElement("div",{className:r.be},"Checkout more details of this project on  ",o.createElement("a",{href:"https://github.com/kitetale/Spring-Mass-Cloth-sim"}," GitHub"),"."))),o.createElement("footer",{className:r.Mv},"(ง˙∇˙)ว © 2023 Ashley Kim (ว˙∇˙)ง"),o.createElement("footer",{className:r.dI},"Built with Gatsby ","&"," React! Last updated on March 10, 2023."))}},4022:function(){var e=10;function t(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2]]}function n(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]}function o(e,t){return 0==t?[0,0,0]:[0==e[0]?0:e[0]*t,0==e[1]?0:e[1]*t,0==e[2]?0:e[2]*t]}var i=function(){"use strict";function t(e,t){this.m_ConstructPos=e,this.m_Position=e,this.m_Velocity=[0,0,0],this.m_ForceAccumulator=[0,0,0],this.m_Mass=1,this.ctx=t}var n=t.prototype;return n.reset=function(){this.m_Position=this.m_ConstructPos,this.m_Velocity=[0,0,0],this.m_ForceAccumulator=[0,0,0]},n.draw=function(){var t=this.m_Position[0]/this.m_Position[2],n=this.m_Position[1]/this.m_Position[2];this.ctx.beginPath(),this.ctx.moveTo(t+e,n),this.ctx.arc(t,n,e,0,2*Math.PI,!1),this.ctx.fill()},n.clearForce=function(){this.m_ForceAccumulator=[0,0,0]},t}(),r=function(){"use strict";function e(e,t,n,o,i,r){this.m_p1=e,this.m_p2=t,this.m_dist=n,this.m_kd=o,this.m_ks=i,this.ctx=r}var i=e.prototype;return i.draw=function(){this.ctx.beginPath(),this.ctx.moveTo(this.m_p1.m_Position[0]/this.m_p1.m_Position[2],this.m_p1.m_Position[1]/this.m_p1.m_Position[2]),this.ctx.lineTo(this.m_p2.m_Position[0]/this.m_p2.m_Position[2],this.m_p2.m_Position[1]/this.m_p2.m_Position[2]),this.ctx.stroke()},i.apply_force=function(){var e,i=n(this.m_p1.m_Position,this.m_p2.m_Position),r=n(this.m_p1.m_Velocity,this.m_p2.m_Velocity),s=(e=i,Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2])),a=function(e,t){return[e[0]/t,e[1]/t,e[2]/t]}(i,s),u=this.m_ks*(s-this.m_dist),m=this.m_kd*function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}(r,i)/s,c=o(a,u+m==0?0:-(u+m));this.m_p1.m_ForceAccumulator=t(this.m_p1.m_ForceAccumulator,c),console.assert(!1===isNaN(c[0])||!1===isNaN(c[1])||!1===isNaN(c[2]));var l=o(c,-1);this.m_p2.m_ForceAccumulator=t(this.m_p2.m_ForceAccumulator,l)},e}(),s=[],a=[],u=function(){"use strict";function e(e,t,n){this.dt=.1,this.rowN=e,this.colN=t,this.ctx=n;for(var o=550/(t-1),u=380/(e-1),m=Math.min(o,u),c=Math.sqrt(o*o+u*u),l=Math.min(o+o,u+u),d=0;d<e;d++)for(var h=0;h<t;h++)s.push(new i([50+h*o,50+d*u,1],n));for(var f=0;f<e;f++)for(var p=0;p<t;p++)p<t-1&&a.push(new r(s[f*t+p],s[f*t+(p+1)],m,.1,.1,n)),f<e-1&&a.push(new r(s[f*t+p],s[(f+1)*t+p],m,.1,.1,n));for(var _=0;_<e-1;_++)for(var y=0;y<t-1;y++)a.push(new r(s[_*t+y],s[(_+1)*t+(y+1)],c,.1,.1,n)),a.push(new r(s[(_+1)*t+y],s[_*t+(y+1)],c,.1,.1,n));for(var v=0;v<e;v++)for(var g=0;g<t;g++)g<t-2&&a.push(new r(s[v*t+g],s[v*t+(g+2)],l,.1,.1,n)),v<e-2&&a.push(new r(s[v*t+g],s[(v+2)*t+g],l,.1,.1,n))}var n=e.prototype;return n.reset=function(){for(var e=s.length,t=0;t<e;t++)s[t].reset()},n.draw=function(){for(var e=s.length,t=0;t<e;t++)s[t].draw();e=a.length;for(var n=0;n<e;n++){var o=this.rowN*(this.colN-1)+this.colN*(this.rowN-1);n<o?c.strokeStyle="Crimson":n>=o&&n<o+(this.rowN-1)*(this.colN-1)*2?c.strokeStyle="ForestGreen":c.strokeStyle="SteelBlue",a[n].draw()}},n.euler_step=function(){for(var e=s.length,n=0;n<e;n++)s[n].m_Position=t(s[n].m_Position,o(s[n].m_Velocity,this.dt)),s[n].m_Velocity=t(o(s[n].m_Velocity,.98),o(s[n].m_ForceAccumulator,this.dt/s[n].m_Mass))},n.simulation_step=function(){for(var e=s.length,t=0;t<e;++t)s[t].clearForce();for(var n=a.length,o=0;o<n;++o)a[o].apply_force();this.euler_step()},e}(),m=document.createElement("canvas");m.width="1000",m.height="800",m.style.display="flex",m.style.margin="auto";var c=m.getContext("2d");m.style.border="1px solid black",document.getElementById("canvas").appendChild(m);var l=new u(5,5,c);function d(){c.clearRect(0,0,m.width,m.height),l.simulation_step(),l.draw(),window.requestAnimationFrame(d)}function h(){l.reset(),window.requestAnimationFrame(d)}window.requestAnimationFrame(d);var f=document.createElement("button");f.innerHTML="Restart",f.onclick=function(){h()},f.style.margin="3rem auto",f.style.display="flex",f.style.padding="0.5rem 1rem",f.style.border="2px solid #ff8a00",f.style.borderRadius="10px",f.style.backgroundColor="white",f.addEventListener("mouseenter",(function(e){f.style.cursor="pointer",f.style.backgroundColor="#ff8a00",f.style.color="white"})),f.addEventListener("mouseleave",(function(e){f.style.backgroundColor="white",f.style.color="black",f.style.cursor="default"})),document.getElementById("resetButton").appendChild(f);var p=document.createElement("input");p.type="number",p.value="10",p.id="rowInputNum";var _=document.createElement("input");_.type="number",_.value="10",_.id="colInputNum",p.style.display="flex",_.style.display="flex",p.style.margin="2rem 0.5rem",_.style.margin="2rem 0.5rem";var y=document.createElement("h3");y.style.margin="2rem 0.5rem",document.getElementById("updateButton").appendChild(y),y.innerHTML="Cloth Dimension: ",document.getElementById("updateButton").appendChild(p),document.getElementById("updateButton").appendChild(_);var v=document.createElement("button");v.innerHTML="Update";var g=document.getElementById("rowInputNum").value,P=document.getElementById("colInputNum").value;v.onclick=function(){l=new u(g,P,c),h()},v.style.margin="3rem auto",v.style.display="flex",v.style.padding="0.5rem 1rem",v.style.border="2px solid #ff8a00",v.style.borderRadius="10px",v.style.backgroundColor="white",v.addEventListener("mouseenter",(function(e){f.style.cursor="pointer",f.style.backgroundColor="#ff8a00",f.style.color="white"})),v.addEventListener("mouseleave",(function(e){f.style.backgroundColor="white",f.style.color="black",f.style.cursor="default"}));var w=function(e){var t=m.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},E=!1,b=-1;function k(e){var t=w(e);if(E&&b>=0){var n=s[b];n.m_ForceAccumulator=[0,0,0],n.m_Velocity=[0,0,0];var o=n.m_Position[2];n.m_Position=[t.x*o,t.y*o,o]}}m.addEventListener("mousedown",(function(t){for(var n,o,i,r,a,u=s.length,c=0;c<u;c++){var l=s[c],d=w(t);if(n=d.x,o=d.y,r=void 0,a=void 0,r=(i=l).m_Position[0]/i.m_Position[2],a=i.m_Position[1]/i.m_Position[2],n>r-e&&n<r+e&&o>a-e&&o<a+e){l.m_ForceAccumulator=[0,0,0],l.m_Velocity=[0,0,0];var h=l.m_Position[2];l.m_Position=[d.x*h,d.y*h,h],E=!0,b=c,m.addEventListener("mousemove",k)}}})),m.addEventListener("mouseup",(function(){E=!1,b=-1,m.removeEventListener("mousemove",k)}))},1606:function(e,t,n){"use strict";n.d(t,{Mv:function(){return u},OA:function(){return m},S2:function(){return c},TN:function(){return l},ZP:function(){return i},be:function(){return o},dI:function(){return a},kQ:function(){return r},q4:function(){return s}});var o="ResumePage-module--center--9b0dd",i="ResumePage-module--centerTitle--bbb03",r="ResumePage-module--content--dfefc",s="ResumePage-module--content2--e4fd6",a="ResumePage-module--footDescrip--5a6f4",u="ResumePage-module--footer--ef519",m="ResumePage-module--overall--a999b",c="ResumePage-module--resumeStyle--64bc2",l="ResumePage-module--title--acc5f"}}]);
//# sourceMappingURL=component---src-pages-cloth-js-2e93b1a45911926230e3.js.map