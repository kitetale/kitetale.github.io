{"version":3,"file":"component---src-pages-cloth-js-f833b4120a632895d2f6.js","mappings":"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","sources":["webpack://ashley-kim/./src/pages/cloth.js","webpack://ashley-kim/./static/clothsim.js","webpack://ashley-kim/./src/pages/ResumePage.module.css"],"sourcesContent":["import React, {useEffect} from \"react\";\nimport { withPrefix } from \"gatsby\";\nimport {\n  overall,\n  content,\n  centerTitle,\n  center,\n  centerButton,\n  footer,\n  footDescrip,\n} from \"./ResumePage.module.css\";\nimport AppHeader from \"../component/AppHeader/AppHeader\";\nimport { Helmet } from \"react-helmet\";\nimport favicon from \"../images/favicon.png\";\n\nconst ClothSimulation = () => {\n  useEffect(() => {\n    setTimeout(() => {\n       const myScript = require(\"../../static/clothsim\");\n     }, 10);\n    }, []);\n  \n  return (\n    <div>\n      <Helmet>\n        <link rel=\"icon\" type=\"image/png\" href={favicon} />\n        <title>Ashley Kim | Cloth Simulation</title>\n        <script\n          type=\"text/javascript\"\n          charset=\"utf-8\"\n          src={withPrefix(\"/clothsim.js\")}\n        />\n      </Helmet>\n      <div className={overall}>\n        <AppHeader />\n        <div className={content}>\n          <div className={centerTitle}>\n            <h1>Cloth Simulation</h1>\n            <p>by Ashley Kim (ayk2@andrew.cmu.edu)</p>\n          </div>\n          <div id=\"updateButton\" className={center}></div>\n          <div id=\"canvas\"></div>\n          {/* <canvas\n            id=\"canvas\"\n            width=\"1000px\"\n            height=\"800px\"\n            className={center}\n          ></canvas> */}\n          <div id=\"resetButton\"></div>\n          <div className={center}>\n          Checkout more details of this project on &nbsp; \n            <a href=\"https://github.com/kitetale/Spring-Mass-Cloth-sim\"> GitHub</a>.\n          </div>\n        </div>\n      </div>\n      <footer className={footer}>(ง˙∇˙)ว © 2023 Ashley Kim (ว˙∇˙)ง</footer>\n      <footer className={footDescrip}>\n        Built with Gatsby {\"&\"} React! Last updated on March 10, 2023.\n      </footer>\n    </div>\n  );\n};\n\nexport default ClothSimulation;\n","// make sure we don't use random variable values -- instead say what's undefined\n//'use strict'; \nlet maxWidth = 650;\nlet maxHeight = 480;\nlet padding = 50;\nlet r = 10; // radius of particle circle\n\n// ------------------------ SOME VEC3 MATH FUNC --------------------------------\nfunction vec3plus (a,b){\n    return [a[0]+b[0],a[1]+b[1],a[2]+b[2]];\n}\nfunction vec3minus (a,b){\n    return [a[0]-b[0],a[1]-b[1],a[2]-b[2]];\n}\nfunction vec3length(a){\n    return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);\n}\nfunction vec3mult(a,s){\n    let a0,a1,a2 = 0;\n    if (s==0) return [0,0,0];\n    if (a[0]==0) a0 = 0;\n    else a0 = a[0]*s;\n    if (a[1]==0) a1 = 0;\n    else a1 = a[1]*s;\n    if (a[2]==0) a2 = 0;\n    else a2 = a[2]*s;\n    return [a0,a1,a2];\n}\nfunction vec3div(a,s){\n    return [a[0]/s,a[1]/s,a[2]/s];\n}\nfunction vec3dot(a,b){\n    return (a[0]*b[0]+a[1]*b[1]+a[2]*b[2]);\n}\n// --------------------------- PARTICLE -------------------------------\nclass Particle {\n    constructor(ConstructPos,ctx){\n        this.m_ConstructPos = ConstructPos;\n        this.m_Position = ConstructPos;\n        this.m_Velocity = [0.0,0.0,0.0];\n        this.m_ForceAccumulator = [0.0,0.0,0.0];\n        this.m_Mass = 1.0;\n        this.ctx = ctx;\n    }\n\n    reset() {\n        this.m_Position = this.m_ConstructPos;\n        this.m_Velocity = [0.0,0.0,0.0];\n        this.m_ForceAccumulator = [0.0,0.0,0.0];\n    }\n\n    draw() {\n        let x = this.m_Position[0]/this.m_Position[2];\n        let y = this.m_Position[1]/this.m_Position[2];\n        \n        this.ctx.beginPath();\n        this.ctx.moveTo(x + r, y);\n        this.ctx.arc(x, y, r, 0, Math.PI * 2, false);\n        this.ctx.fill();\n    }\n\n    clearForce() {\n        //reset applied force on this particle\n        this.m_ForceAccumulator = [0.0,0.0,0.0];\n    }\n\n}\n\n\n// ------------------------- SPRING FORCE -----------------------------\n\nclass SpringForce{\n    constructor(p1,p2,dist,kd,ks,ctx){\n        this.m_p1 = p1;\n        this.m_p2 = p2;\n        this.m_dist = dist;\n        this.m_kd = kd;\n        this.m_ks = ks;\n        this.ctx = ctx;\n    }\n\n    draw(){\n        this.ctx.beginPath();\n        this.ctx.moveTo(this.m_p1.m_Position[0]/this.m_p1.m_Position[2],this.m_p1.m_Position[1]/this.m_p1.m_Position[2]);\n        this.ctx.lineTo(this.m_p2.m_Position[0]/this.m_p2.m_Position[2],this.m_p2.m_Position[1]/this.m_p2.m_Position[2]);\n        this.ctx.stroke();\n    }\n\n    apply_force(){\n        // accumulated force of the first particle\n        let pdiff = vec3minus(this.m_p1.m_Position,this.m_p2.m_Position); //vec3\n        let vdiff = vec3minus(this.m_p1.m_Velocity,this.m_p2.m_Velocity); //vec3\n        let pdiffmag = vec3length(pdiff); //float\n        let pdiffnorm = vec3div(pdiff,pdiffmag); //vec3\n\n        let spring = this.m_ks * (pdiffmag-this.m_dist); //float\n        let damping = this.m_kd * vec3dot(vdiff,pdiff) / pdiffmag; //float\n\n        let fscaler = (spring+damping == 0)? 0 : -(spring+damping); //float\n        let force1 = vec3mult(pdiffnorm,fscaler); //vec3\n\n        // set accumulated force of the first particle\n        this.m_p1.m_ForceAccumulator = vec3plus(this.m_p1.m_ForceAccumulator,force1);\n        console.assert(isNaN(force1[0]) === false || isNaN(force1[1]) === false || isNaN(force1[2]) === false);\n\n        // accumulated force of the first particle\n        let force2 = vec3mult(force1,-1); //vec3\n\n        // set accumulated force of the second particle\n        this.m_p2.m_ForceAccumulator = vec3plus(this.m_p2.m_ForceAccumulator,force2);\n    }\n}\n\n// ------------------------------ CLOTH -------------------------------\n\nlet pVector = [];\nlet fVector = [];\nconst damp = 0.98;\n\nclass Cloth{\n    constructor(rowN,colN,ctx){\n        this.dt = 0.1;\n        this.rowN = rowN;\n        this.colN = colN;\n        this.ctx = ctx;\n\n        let xOffset = (maxWidth-padding*2)/(colN-1);\n        let yOffset = (maxHeight-padding*2)/(rowN-1);\n\n        // set rest lengths to starting length\n        let rest_stretch = Math.min(xOffset,yOffset);\n        let rest_sheer = Math.sqrt(xOffset*xOffset+yOffset*yOffset);\n        let rest_bend = Math.min(xOffset+xOffset,yOffset+yOffset);\n\n        let ks_stretch = 0.1;\n        let kd_stretch = 0.1;\n        let ks_sheer = 0.1;\n        let kd_sheer = 0.1;\n        let ks_bend = 0.1;\n        let kd_bend = 0.1;\n\n        // particle construct\n        for (let i=0; i<rowN; i++){\n            for (let j=0; j<colN; j++){\n                pVector.push(new Particle([padding+j*xOffset,padding+i*yOffset,1.0],ctx))\n            }\n        }\n\n        // spring force construct\n        // stretch strings (red)\n        for (let i=0; i<rowN; i++){\n            for (let j=0; j<colN; j++){\n                // horizontal\n                if (j<colN-1){\n                    fVector.push(new SpringForce(pVector[i*colN+j], pVector[i*colN+(j+1)], rest_stretch, kd_stretch, ks_stretch, ctx));\n                }\n                // vertical\n                if (i<rowN-1){\n                    fVector.push(new SpringForce(pVector[i*colN+j], pVector[(i+1)*colN+j], rest_stretch, kd_stretch, ks_stretch, ctx));\n                }\n            }\n        }\n        \n        // sheer strings (green)\n        for (let i=0; i<rowN-1; i++){\n            for (let j=0; j<colN-1; j++){\n                // \\ diagonal\n                fVector.push(new SpringForce(pVector[i*colN+j], pVector[(i+1)*colN+(j+1)], rest_sheer, kd_sheer, ks_sheer, ctx));\n                // / diagonal\n                fVector.push(new SpringForce(pVector[(i+1)*colN+j], pVector[i*colN+(j+1)], rest_sheer, kd_sheer, ks_sheer, ctx));\n            }\n        }\n        // bend strings (blue)\n        for (let i=0; i<rowN; i++){\n            for (let j=0; j<colN; j++){\n                // right jump connection for bending cloth\n                if (j<colN-2){\n                    fVector.push(new SpringForce(pVector[i*colN+j], pVector[i*colN+(j+2)], rest_bend, kd_bend, ks_bend, ctx));\n                }\n                // down jump connection\n                if (i<rowN-2){\n                    fVector.push(new SpringForce(pVector[i*colN+j], pVector[(i+2)*colN+j], rest_bend, kd_bend, ks_bend, ctx));\n                }\n            }\n        }\n\n    }\n\n    reset(){\n        let size = pVector.length;\n        for(let ii=0; ii<size; ii++){\n            pVector[ii].reset();\n        }\n    }\n\n    draw(){\n        let size = pVector.length;\n        for(let ii=0; ii<size; ii++){\n            pVector[ii].draw();\n        }\n    \n        size = fVector.length;\n        for(let ii=0; ii<size; ii++){\n            let stretchCount = (this.rowN*(this.colN-1)+this.colN*(this.rowN-1));\n            if (ii<stretchCount){ \n                ctx.strokeStyle = 'Crimson';\n            } else if (ii>=stretchCount&& ii<stretchCount+(this.rowN-1)*(this.colN-1)*2){ \n                ctx.strokeStyle = 'ForestGreen';\n            } else {\n                ctx.strokeStyle = 'SteelBlue';\n            }\n            fVector[ii].draw();\n        }\n    }\n\n    euler_step(){\n        let size = pVector.length;\n    \n        for(let ii=0; ii<size; ii++){\n            pVector[ii].m_Position = vec3plus(pVector[ii].m_Position, vec3mult(pVector[ii].m_Velocity, this.dt));\n            pVector[ii].m_Velocity = vec3plus(vec3mult(pVector[ii].m_Velocity, damp), vec3mult(pVector[ii].m_ForceAccumulator, this.dt/pVector[ii].m_Mass));\n        }\n    }\n\n    simulation_step(){\n        ///first, you need to clear force accumulators for all the particles\n        let size = pVector.length;\n        for (let i=0; i<size; ++i){\n            pVector[i].clearForce();\n        }\n    \n        ///second, apply forces to them\n        let fsize = fVector.length;\n        for (let i=0; i<fsize; ++i){\n            // pVector[i].m_ForceAccumulator = [0,9.81,0];\n            fVector[i].apply_force();\n        }\n    \n        ///if you want to implement hard constraints, the third step is to calculate constraint forces\n        ///for the basic cloth simulation, you can skip this.\n    \n        ///Then, we can move forward\n        ///Change this to others if you want to implement RK2 or RK4 or other integration method\n        this.euler_step();\n    \n        ///Finally, if you want to implement collisions, you could solve them here\n        ///for the basic cloth simulation, you can skip this.\n    }\n}\n\n\n\n// ----------------------- ADD CANVAS ---------------------------------------\nlet canvas = document.createElement(\"canvas\");\ncanvas.width = \"1000\";\ncanvas.height = \"800\";\ncanvas.style.display = \"flex\";\ncanvas.style.margin = \"auto\";\n// const canvas = document.getElementById(\"canvas\");\nconst ctx = canvas.getContext(\"2d\");\ncanvas.style.border = \"1px solid black\";\ndocument.getElementById(\"canvas\").appendChild(canvas);\n\n// let p1 = new Particle([100.0,100.0,1.0],ctx);\n// p1.draw();\n\n// let p2 = new Particle([200.0,100.0,1.0],ctx);\n// p2.draw();\n\n// let s1 = new SpringForce(p1,p2,1,5,5,ctx);\n// s1.draw();\n\nlet cloth = new Cloth(5,5,ctx);\n\nfunction draw() {\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n    cloth.simulation_step();\n    cloth.draw();\n    window.requestAnimationFrame(draw);\n}\n// cloth.draw();\nwindow.requestAnimationFrame(draw);\n\nfunction playSimulation(){\n    cloth.reset();\n    window.requestAnimationFrame(draw);\n}\n// ----------------------- RESET BUTTON --------------------------------------\nlet btn = document.createElement(\"button\");\nbtn.innerHTML = \"Restart\";\nbtn.onclick = function () {\n    playSimulation();\n};\nbtn.style.margin = \"3rem auto\";\nbtn.style.display = \"flex\";\nbtn.style.padding = \"0.5rem 1rem\";\nbtn.style.border = \"2px solid #ff8a00\";\nbtn.style.borderRadius = \"10px\";\nbtn.style.backgroundColor = \"white\";\n\nbtn.addEventListener(\"mouseenter\", (event) => {\n    btn.style.cursor = \"pointer\";\n    btn.style.backgroundColor = \"#ff8a00\";\n    btn.style.color = \"white\";\n});\nbtn.addEventListener(\"mouseleave\", (event) => {\n    btn.style.backgroundColor = \"white\";\n    btn.style.color = \"black\";\n    btn.style.cursor = \"default\";\n});\n\ndocument.getElementById(\"resetButton\").appendChild(btn);\n\n// ----------------------- ADD CONTROL BUTTONS / INPUTS ---------------------\n/*\nlet rowInput = document.createElement(\"input\");\nrowInput.type = \"number\";\nrowInput.value = \"10\";\nrowInput.id = \"rowInputNum\";\nlet colInput = document.createElement(\"input\");\ncolInput.type = \"number\";\ncolInput.value = \"10\";\ncolInput.id = \"colInputNum\";\n\nrowInput.style.display = \"flex\";\ncolInput.style.display = \"flex\";\nrowInput.style.margin = \"2rem 0.5rem\";\ncolInput.style.margin = \"2rem 0.5rem\";\n\ndocument.getElementById(\"updateButton\").appendChild(rowInput);\ndocument.getElementById(\"updateButton\").appendChild(colInput);\n\n\nlet btn1 = document.createElement(\"button\");\nbtn1.innerHTML = \"Update\";\nlet userRowNum = document.getElementById(\"rowInputNum\").value;\nlet userColNum = document.getElementById(\"colInputNum\").value;\nbtn1.onclick = function () {\n    cloth = new Cloth(userRowNum,userColNum,ctx);\n    playSimulation();\n};\nbtn1.style.margin = \"3rem auto\";\nbtn1.style.display = \"flex\";\nbtn1.style.padding = \"0.5rem 1rem\";\nbtn1.style.border = \"2px solid #ff8a00\";\nbtn1.style.borderRadius = \"10px\";\nbtn1.style.backgroundColor = \"white\";\n\nbtn1.addEventListener(\"mouseenter\", (event) => {\n    btn.style.cursor = \"pointer\";\n    btn.style.backgroundColor = \"#ff8a00\";\n    btn.style.color = \"white\";\n});\nbtn1.addEventListener(\"mouseleave\", (event) => {\n    btn.style.backgroundColor = \"white\";\n    btn.style.color = \"black\";\n    btn.style.cursor = \"default\";\n});\n\n// document.getElementById(\"updateButton\").appendChild(btn1);\n*/\n// --------------------------- INTERACTION -------------------------------------\nlet getMouseCoords = (e) => {\n    let canvasCoords = canvas.getBoundingClientRect()\n    return {\n        x: e.clientX - canvasCoords.left,\n        y: e.clientY - canvasCoords.top\n    }\n}\nlet getOffsetCoords = (e, particle) => {\n    let mouseX = e.clientX\n    let mouseY = e.clientY\n    return {\n        x: mouseX - (particle.m_Position[0]/particle.m_Position[2]),\n        y: mouseY - (particle.m_Position[1]/particle.m_Position[2])\n    }\n}\nlet cursorOnPoint = (mouseX, mouseY, particle) => {\n    let particleX = (particle.m_Position[0]/particle.m_Position[2]);\n    let particleY = (particle.m_Position[1]/particle.m_Position[2]);\n    let xAxis = mouseX>particleX-r && mouseX<particleX+r;\n    let yAxis = mouseY>particleY-r && mouseY<particleY+r;\n\n    return xAxis && yAxis;\n}\n\nlet dragging = false;\nlet curIndex = -1;\n\nfunction mouseMove(e){\n    let mouseCoord = getMouseCoords(e);\n    if (dragging && curIndex>=0){\n        let p = pVector[curIndex];\n        p.m_ForceAccumulator = [0,0,0];\n        p.m_Velocity = [0,0,0];\n        let zPos = p.m_Position[2];\n        // update this particle's position to where mouse is dragging\n        p.m_Position = [mouseCoord.x*zPos,mouseCoord.y*zPos,zPos];\n    }\n}\n\nfunction mouseDown(e){\n    let size = pVector.length;\n    for (let i=0; i<size; i++){\n        let p = pVector[i];\n        let mouseCoord = getMouseCoords(e);\n        if (cursorOnPoint(mouseCoord.x,mouseCoord.y,p)){\n            p.m_ForceAccumulator = [0,0,0];\n            p.m_Velocity = [0,0,0];\n            let zPos = p.m_Position[2];\n            // update this particle's position to where mouse is dragging\n            p.m_Position = [mouseCoord.x*zPos,mouseCoord.y*zPos,zPos];\n            dragging = true;\n            curIndex = i;\n            // canvas.onmousemove = mouseMove;\n            canvas.addEventListener('mousemove',mouseMove);\n\n        }\n    }\n}\n\nfunction mouseUp(){\n    dragging = false;\n    curIndex = -1;\n    // canvas.onmousemove = null;\n    canvas.removeEventListener('mousemove',mouseMove);\n}\n\ncanvas.addEventListener('mousedown',mouseDown);\ncanvas.addEventListener('mouseup',mouseUp);\n// canvas.onmousedown = mouseDown;\n// canvas.onmouseup = mouseUp;","// extracted by mini-css-extract-plugin\nexport var center = \"ResumePage-module--center--9b0dd\";\nexport var centerButton = \"ResumePage-module--centerButton--df016\";\nexport var centerTitle = \"ResumePage-module--centerTitle--bbb03\";\nexport var content = \"ResumePage-module--content--dfefc\";\nexport var content2 = \"ResumePage-module--content2--e4fd6\";\nexport var footDescrip = \"ResumePage-module--footDescrip--5a6f4\";\nexport var footer = \"ResumePage-module--footer--ef519\";\nexport var overall = \"ResumePage-module--overall--a999b\";\nexport var resumeStyle = \"ResumePage-module--resumeStyle--64bc2\";\nexport var title = \"ResumePage-module--title--acc5f\";\nexport var title3 = \"ResumePage-module--title3--2ba8f\";"],"names":["useEffect","setTimeout","require","rel","type","href","favicon","charset","src","withPrefix","className","overall","content","centerTitle","id","center","footer","footDescrip","r","vec3plus","a","b","vec3minus","vec3mult","s","Particle","ConstructPos","ctx","this","m_ConstructPos","m_Position","m_Velocity","m_ForceAccumulator","m_Mass","reset","draw","x","y","beginPath","moveTo","arc","Math","PI","fill","clearForce","SpringForce","p1","p2","dist","kd","ks","m_p1","m_p2","m_dist","m_kd","m_ks","lineTo","stroke","apply_force","pdiff","vdiff","pdiffmag","sqrt","pdiffnorm","vec3div","spring","damping","vec3dot","force1","console","assert","isNaN","force2","pVector","fVector","Cloth","rowN","colN","dt","xOffset","yOffset","rest_stretch","min","rest_sheer","rest_bend","i","j","push","size","length","ii","stretchCount","strokeStyle","euler_step","simulation_step","fsize","canvas","document","createElement","width","height","style","display","margin","getContext","border","getElementById","appendChild","cloth","clearRect","window","requestAnimationFrame","btn","innerHTML","onclick","padding","borderRadius","backgroundColor","addEventListener","event","cursor","color","getMouseCoords","e","canvasCoords","getBoundingClientRect","clientX","left","clientY","top","dragging","curIndex","mouseMove","mouseCoord","p","zPos","mouseX","mouseY","particle","particleX","particleY","removeEventListener","content2","resumeStyle","title"],"sourceRoot":""}